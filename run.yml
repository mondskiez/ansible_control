---

- hosts: all
  become: true
  vars:
      desired_hostname: mondskiez-test
      tz: Asia/Manila
      user_name: morty
      user_home: /home/{{ user_name }}
      user_pword: $6$RWo0laTgZpiSlKES$X6adutPj3ZjVNubU3Ehg.E2B/DtEgd/ni7FGaa4XNVFdVrewPITM0fMUld5JD5hn8rrxXXnlvQBSeQ4uBBBfe0
      omz_install_path: "/home/{{ user_name }}/"
      omz_zsh_path: "/home/{{ user_name }}/.oh-my-zsh/"
      omz_auto_path: "/home/{{ user_name }}/.oh-my-zsh/custom/plugins/zsh-autosuggestions"
      ssh_stream: 22
      port53systemd: systemd-r
      cl_desired_time: 720
      jammy: 22.04

### the following .yml files will be executed consecutively
### to disable a task simply comment out the line

  tasks:

### Base Server Defaults

  - include_tasks: tasks/base-server/1-create-hostname.yml
  - include_tasks: tasks/base-server/2-create-user.yml
  - include_tasks: tasks/base-server/3-setup-apps.yml
  - include_tasks: tasks/base-server/4-enable-ufw.yml
  - include_tasks: tasks/base-server/5-secure-ssh.yml

### Server Maintenance

  - include_tasks: tasks/server-maintenance/apt-upgrade.yml
  - include_tasks: tasks/server-maintenance/livepatch.yml
  - include_tasks: tasks/server-maintenance/server-reboot.yml